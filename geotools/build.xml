<?xml version="1.0" encoding="utf-8"?>
<project name="geotools" default="dist" basedir=".">
    <!-- enter the SVN commit message -->
    <property name="commit.message" value="Commit message"/>
    <!-- enter the *lowest* JOSM version this plugin is currently compatible with -->
    <property name="plugin.main.version" value="5236"/>
	
    <property name="plugin.author" value="Don-vip"/>
    <property name="plugin.class" value="org.openstreetmap.josm.plugins.geotools.GeoToolsPlugin"/>
    <property name="plugin.description" value="Provides parts of the GeoTools library for other JOSM plugins. Not meant to be installed directly by users, but rather as a dependency for other plugins."/>
    <property name="plugin.icon" value="images/compass.png"/>
    <!--<property name="plugin.link" value="..."/>-->
    <property name="plugin.early" value="true"/>
    <property name="plugin.requires" value="jts"/>
    <property name="plugin.stage" value="20"/>

    <!-- ** include targets that all plugins have in common ** -->
    <import file="../build-common.xml"/>
	
    <!--
    **********************************************************
    ** setup-dist - copies files for distribution
    **********************************************************
    -->
    <target name="setup-dist">
        <copy todir="${plugin.build.dir}/META-INF">
            <fileset dir="META-INF"/>
        </copy>
        <antcall target="setup-dist-default" />
    </target>
    	
    <!--
    **********************************************************
    ** post-dist - removes files from the generated jar
    **********************************************************
    -->
    <target name="post-dist">
    	<move file="${plugin.jar}" todir="${plugin.build.dir}" />
    	<jar destfile="${plugin.jar}">
    		<zipfileset src="${plugin.build.dir}/${ant.project.name}.jar">
                <exclude name="*.class"/>
    			<exclude name="*.html"/>
                <exclude name="META-INF/*.txt"/>
                <exclude name="META-INF/*.xml"/>
                <exclude name="META-INF/maven/**/*" />
                <exclude name="javax/*.txt"/>
    		</zipfileset>
    	</jar>
    	<delete file="${plugin.build.dir}/${ant.project.name}.jar" />
    </target>
</project>

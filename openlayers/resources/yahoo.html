<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
   	<!-- The map can not be set to 100%. It hangs -->
    <style type="text/css">
        #map {
            width: 1200px;
            height: 900px;
        }
    </style>
    <script type="text/javascript" src="http://api.maps.yahoo.com/ajaxymap?v=3.0&appid=euzuro-openlayers"></script>
    <script type="text/javascript" src="http://www.openlayers.org/api/OpenLayers.js"></script>
    <script type="text/javascript">
    	// There seems to be a problem with this function and the Java JS engine, as the computed style 
    	// does not have the function getPropertyValue.
		OpenLayers.Element.getStyle =  function(element, style) {
	        element = OpenLayers.Util.getElement(element);
	        var value = element.style[OpenLayers.String.camelize(style)];
	        if (!value) {
	            if (document.defaultView && 
	                document.defaultView.getComputedStyle && false) {
	                
	                var css = document.defaultView.getComputedStyle(element, null);
	                value = css ? css.getPropertyValue(style) : null;
	            } else if (element.currentStyle) {
	                value = element.currentStyle[OpenLayers.String.camelize(style)];
	            }
	        }
	    
	        var positions = ['left', 'top', 'right', 'bottom'];
	        if (window.opera &&
	            (OpenLayers.Util.indexOf(positions,style) != -1) &&
	            (OpenLayers.Element.getStyle(element, 'position') == 'static')) { 
	            value = 'auto';
	        }
	    
	        return value == 'auto' ? null : value;
	    }
    </script>
    <script type="text/javascript">
        var map, yahooLayer;

        function init(){
            var options = {
                  projection: "WGS84",
                  controls: []
              };
            map = new OpenLayers.Map('map', options );
            yahooLayer = new OpenLayers.Layer.Yahoo( "Yahoo", {'type': YAHOO_MAP_SAT} );
            map.addLayer(yahooLayer);
            map.setCenter(new OpenLayers.LonLat(-3.6940, 40.4258), 12);
        }
    </script>
    <script type="text/javascript">
        function resizeMap(width, height)
        {
            var mapDiv = document.getElementById("map");
            if( !mapDiv ) return;
            
            mapDiv.style.width = width;
            mapDiv.style.height = height;
            
            if( map )
                map.updateSize();
        }
        
        function zoomMapToExtent(left, bottom, right, top)
        {
            if( !map ) return;
            
            map.zoomToExtent( new OpenLayers.Bounds(left, bottom, right, top) );
            var extent = map.getExtent();
            if( extent != null )
            {
                extent = extent.toArray();
            }
            return extent;
        }
    </script>
  </head>
  
  <body onload="init()" style="overflow:hidden; margin: 0; padding: 0;">
    <div id="overlay" style="background:white;opacity:0.5;z-index:10;">
        <div id="map"></div>
    </div>
  </body>
</html>
